<!DOCTYPE html>
<html>
<head>
    <title>myClip Professional Icon Generator</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .icon-preview {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            align-items: center;
        }
        .icon-item {
            text-align: center;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
        }
        canvas {
            border: 1px solid #ccc;
            margin: 10px;
            border-radius: 4px;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #0056b3;
        }
        h1 { color: #333; text-align: center; }
        h3 { color: #666; margin-top: 25px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>📎 myClip Professional Icon Generator</h1>
        <p>고품질 Chrome 확장 프로그램 아이콘을 생성합니다.</p>
        
        <div class="icon-preview">
            <div class="icon-item">
                <canvas id="canvas16" width="16" height="16"></canvas>
                <div>16x16px</div>
                <button onclick="downloadIcon('canvas16', 'icon16.png')">다운로드</button>
            </div>
            <div class="icon-item">
                <canvas id="canvas48" width="48" height="48"></canvas>
                <div>48x48px</div>
                <button onclick="downloadIcon('canvas48', 'icon48.png')">다운로드</button>
            </div>
            <div class="icon-item">
                <canvas id="canvas128" width="128" height="128"></canvas>
                <div>128x128px</div>
                <button onclick="downloadIcon('canvas128', 'icon128.png')">다운로드</button>
            </div>
        </div>
        
        <button onclick="downloadAllIcons()" style="font-size: 16px; padding: 12px 24px;">
            🎯 모든 아이콘 다운로드
        </button>
        
        <h3>🎨 디자인 특징:</h3>
        <ul>
            <li>현대적이고 미니멀한 클립 디자인</li>
            <li>Chrome 확장 프로그램 가이드라인 준수</li>
            <li>고해상도 픽셀 퍼펙트 렌더링</li>
            <li>다양한 배경에서 가독성 확보</li>
        </ul>
        
        <h3>📋 사용법:</h3>
        <ol>
            <li>각 크기별 "다운로드" 버튼을 클릭하거나</li>
            <li>"모든 아이콘 다운로드" 버튼으로 일괄 다운로드</li>
            <li>다운로드한 파일들을 <code>icons/</code> 폴더에 저장</li>
            <li><code>./package.sh</code> 실행하여 확장 프로그램 패키징</li>
        </ol>
    </div>

    <script>
        function drawProfessionalClipIcon(canvas, size) {
            const ctx = canvas.getContext('2d');
            const scale = size / 128; // 128px을 기준으로 스케일링
            
            // 고해상도를 위한 캔버스 스케일링
            const ratio = window.devicePixelRatio || 1;
            canvas.width = size * ratio;
            canvas.height = size * ratio;
            canvas.style.width = size + 'px';
            canvas.style.height = size + 'px';
            ctx.scale(ratio, ratio);
            
            // 배경 그라데이션
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#4285f4'); // Google Blue
            gradient.addColorStop(1, '#1a73e8'); // Darker Blue
            
            // 배경 원형 또는 rounded square
            ctx.fillStyle = gradient;
            if (size <= 16) {
                // 작은 아이콘은 원형
                ctx.beginPath();
                ctx.arc(size/2, size/2, size/2 - 1, 0, 2 * Math.PI);
                ctx.fill();
            } else {
                // 큰 아이콘은 둥근 사각형
                const cornerRadius = size * 0.15;
                ctx.beginPath();
                ctx.roundRect(2, 2, size-4, size-4, cornerRadius);
                ctx.fill();
            }
            
            // 클립 아이콘 그리기
            ctx.fillStyle = 'white';
            ctx.strokeStyle = 'white';
            
            if (size <= 16) {
                // 16px용 단순한 클립 모양
                ctx.lineWidth = 1.5;
                ctx.beginPath();
                // 클립의 기본 형태
                ctx.moveTo(size * 0.3, size * 0.2);
                ctx.lineTo(size * 0.3, size * 0.8);
                ctx.quadraticCurveTo(size * 0.3, size * 0.9, size * 0.4, size * 0.9);
                ctx.quadraticCurveTo(size * 0.5, size * 0.9, size * 0.5, size * 0.8);
                ctx.lineTo(size * 0.5, size * 0.4);
                ctx.moveTo(size * 0.5, size * 0.3);
                ctx.lineTo(size * 0.7, size * 0.3);
                ctx.lineTo(size * 0.7, size * 0.7);
                ctx.stroke();
            } else {
                // 48px, 128px용 상세한 클립 모양
                const clipWidth = size * 0.15;
                const clipHeight = size * 0.6;
                const centerX = size * 0.5;
                const centerY = size * 0.5;
                
                ctx.lineWidth = size * 0.08;
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                
                // 메인 클립 바디
                ctx.beginPath();
                ctx.moveTo(centerX - clipWidth, centerY - clipHeight/2);
                ctx.lineTo(centerX - clipWidth, centerY + clipHeight/2 - size * 0.1);
                ctx.quadraticCurveTo(
                    centerX - clipWidth, centerY + clipHeight/2 + size * 0.05,
                    centerX - clipWidth + size * 0.08, centerY + clipHeight/2 + size * 0.05
                );
                ctx.quadraticCurveTo(
                    centerX + clipWidth, centerY + clipHeight/2 + size * 0.05,
                    centerX + clipWidth, centerY + clipHeight/2 - size * 0.05
                );
                ctx.lineTo(centerX + clipWidth, centerY - size * 0.1);
                ctx.stroke();
                
                // 클립 상단 부분 (종이를 끼우는 부분)
                ctx.beginPath();
                ctx.moveTo(centerX + clipWidth * 0.3, centerY - clipHeight/2 + size * 0.05);
                ctx.lineTo(centerX + clipWidth * 1.3, centerY - clipHeight/2 + size * 0.05);
                ctx.lineTo(centerX + clipWidth * 1.3, centerY + size * 0.15);
                ctx.stroke();
                
                // 클립 내부 곡선 (디테일)
                if (size >= 48) {
                    ctx.strokeStyle = 'rgba(255, 255, 255, 0.6)';
                    ctx.lineWidth = size * 0.02;
                    ctx.beginPath();
                    ctx.moveTo(centerX - clipWidth * 0.3, centerY - clipHeight/2 + size * 0.1);
                    ctx.quadraticCurveTo(
                        centerX - clipWidth * 0.3, centerY + clipHeight/2 - size * 0.05,
                        centerX + clipWidth * 0.3, centerY + clipHeight/2 - size * 0.05
                    );
                    ctx.stroke();
                }
            }
            
            // 그림자 효과 (큰 아이콘에만)
            if (size >= 48) {
                ctx.shadowColor = 'rgba(0, 0, 0, 0.2)';
                ctx.shadowBlur = size * 0.05;
                ctx.shadowOffsetX = size * 0.02;
                ctx.shadowOffsetY = size * 0.02;
            }
        }
        
        function downloadIcon(canvasId, filename) {
            const canvas = document.getElementById(canvasId);
            const link = document.createElement('a');
            link.download = filename;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }
        
        function downloadAllIcons() {
            setTimeout(() => downloadIcon('canvas16', 'icon16.png'), 100);
            setTimeout(() => downloadIcon('canvas48', 'icon48.png'), 200);
            setTimeout(() => downloadIcon('canvas128', 'icon128.png'), 300);
        }
        
        // 페이지 로드 시 모든 아이콘 생성
        window.onload = function() {
            drawProfessionalClipIcon(document.getElementById('canvas16'), 16);
            drawProfessionalClipIcon(document.getElementById('canvas48'), 48);
            drawProfessionalClipIcon(document.getElementById('canvas128'), 128);
        };
        
        // roundRect polyfill for older browsers
        if (!CanvasRenderingContext2D.prototype.roundRect) {
            CanvasRenderingContext2D.prototype.roundRect = function(x, y, width, height, radius) {
                this.moveTo(x + radius, y);
                this.lineTo(x + width - radius, y);
                this.quadraticCurveTo(x + width, y, x + width, y + radius);
                this.lineTo(x + width, y + height - radius);
                this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                this.lineTo(x + radius, y + height);
                this.quadraticCurveTo(x, y + height, x, y + height - radius);
                this.lineTo(x, y + radius);
                this.quadraticCurveTo(x, y, x + radius, y);
                this.closePath();
            };
        }
    </script>
</body>
</html>